<ion-header>
  <ion-toolbar>
    <ion-title>Checkout</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>

  <div *ngIf="!paymentFormShow && addressFormShow" >
    <br/>
    <ion-icon name="arrow-back-sharp" (click)="goToCart()"></ion-icon>
  <ion-label class="headline"> Enter your address: </ion-label>

  <ion-item>
    <ion-label position="floating"> Name </ion-label>
    <ion-input required="true" [(ngModel)]="name"> </ion-input>
  </ion-item>

  <ion-item>
    <ion-label position="floating"> Country </ion-label>
    <ion-select placeholder="Select country" value="u" required="true">
      <ion-select-option value="c">Canada</ion-select-option>
      <ion-select-option value="u">USA</ion-select-option>
    </ion-select>
  </ion-item>

  <ion-item>
    <ion-label position="floating"> Address (Line 1) </ion-label>
    <ion-input required="true" [(ngModel)]="addressLine1"> </ion-input>
  </ion-item>

  <ion-item>
    <ion-label position="floating"> Address (Line 2)  </ion-label>
    <ion-input required="true" [(ngModel)]="addressLine2"> </ion-input>
  </ion-item>

  <ion-item>
    <ion-label position="floating"> City  </ion-label>
    <ion-select placeholder="Select city" value="n" required="true">
      <ion-select-option value="a">Alabama</ion-select-option>
      <ion-select-option value="n">New york</ion-select-option>
    </ion-select>
  </ion-item>

  <ion-item>
    <ion-label position="floating"> Province  </ion-label>
    <ion-input required="true" [(ngModel)]="province"> </ion-input>
  </ion-item>

  <ion-item>
    <ion-label position="floating"> Postal Code/ZIP  </ion-label>
    <ion-input required="true" [(ngModel)]="zip"> </ion-input>
  </ion-item>

  <ion-item>
    <ion-label position="floating"> Telephone number </ion-label>
    <ion-input required="true" [(ngModel)]="phone"> </ion-input>
  </ion-item>

  <ion-item>
    <ion-label position="floating"> Email address </ion-label>
    <ion-input required="false" [(ngModel)]="email"> </ion-input>
  </ion-item>

  <ion-button class="proceed-btn" expand="block" (click)="proceedToPaymentForm()"> Proceed to payment </ion-button>

  </div>

  <div *ngIf="paymentFormShow && !addressFormShow">
    <br/>
    <ion-label class="headline"> Enter your card information:</ion-label>
    <ion-item>
      <ion-label position="floating"> Name </ion-label>
      <ion-input required="true" [(ngModel)]="cardName"> </ion-input>
    </ion-item>
    <ion-item>
      <ion-label position="floating"> Card Number </ion-label>
      <ion-input required="true" [(ngModel)]="cardNumber"> </ion-input>
    </ion-item>

    <br/>
    <ion-label class="headline"> Expiration date </ion-label>
    <ion-item>
      <ion-label > Month </ion-label>
      <ion-select placeholder="Month" value="1" required="true" >
        <ion-select-option value="{{m}}" *ngFor="let m of months">{{m}}</ion-select-option>
      </ion-select>
    </ion-item>
    <ion-item>
      <ion-label> Year </ion-label>
      <ion-select placeholder="Year" value="2021" required="true">
        <ion-select-option value="2021">2021</ion-select-option>
        <ion-select-option value="2022">2022</ion-select-option>
        <ion-select-option value="2023">2023</ion-select-option>
        <ion-select-option value="2024">2024</ion-select-option>
      </ion-select>
    </ion-item>

    <ion-grid>
      <ion-row>
        <ion-col size="6">
          <ion-button expand="full" fill="clear" (click)="proceedToPaymentForm()"> Go back </ion-button>
        </ion-col>
        <ion-col size="6">
          <ion-button color="secondary" expand="full" fill="solid" (click)="doPayment()"> Pay now </ion-button>
        </ion-col>
      </ion-row>
    </ion-grid>
  </div>

  <div *ngIf="!addressFormShow && !paymentFormShow">

    <div class="headline done"> Payment done! </div>
    <div class="headline"> Payment ID: 212 </div>
    <ion-grid>
      <ion-row class="cart-item" *ngFor="let product of productDetails">

        <ion-col size="5">
          <img src='assets/{{product.productPic}}'>
        </ion-col>
        <ion-col size="6">
          <div class="item-name"> {{product.productName}}</div>
          <div class="item-price"> {{product.productPrice}}</div>
        </ion-col>

      </ion-row>

      <ion-row>
        <ion-col>
          <ion-label> Total: ${{totalPrice}} </ion-label>
        </ion-col>
      </ion-row>
    </ion-grid>

    <ion-button expand="full" color="secondary" fill="solid" (click)="goToHome()"> Done </ion-button>

  </div>
</ion-content>
